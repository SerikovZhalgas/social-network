"use strict";(self.webpackChunksamurai_way=self.webpackChunksamurai_way||[]).push([[587],{4587:function(t,r,e){e.r(r),e.d(r,{default:function(){return M}});var n=e(5671),s=e(3144),i=e(136),o=e(5716),u=e(2791),a=e(7503),l="MyPosts_postsBlock__l6-8N",c="MyPosts_posts__Qgrk3",d={item:"Post_item__RX5g+"},f=e(184),p=function(t){return(0,f.jsx)("div",{className:d.posts,children:(0,f.jsxs)("div",{className:d.item,children:[(0,f.jsx)("img",{src:"https://www.vokrug.tv/pic/product/6/a/0/b/6a0bbf9e1e4b3c4564c562f91c6d43ec.jpeg",alt:"avatar"}),t.message,(0,f.jsxs)("div",{children:[(0,f.jsx)("span",{children:"like"})," ",t.likesCount]})]})})},h=e(6139),m=e(704),v=e(5298),x=e(6854),j=(0,v.D)(10),g=u.memo((function(t){console.log("MyPostsRendered");var r=t.profilePage.posts.map((function(t){return(0,f.jsx)(p,{id:t.id,message:t.message,likesCount:t.likesCount})}));return(0,f.jsxs)("div",{className:l,children:[(0,f.jsx)("h3",{children:"My posts"}),(0,f.jsx)("div",{children:(0,f.jsx)(y,{onSubmit:function(r){t.addMyPost(r.newPostText)}})}),(0,f.jsx)("div",{className:c,children:r})]})})),y=(0,m.Z)({form:"ProfileAddNewPostForm"})((function(t){return(0,f.jsxs)("form",{onSubmit:t.handleSubmit,children:[(0,f.jsx)("div",{children:(0,f.jsx)(h.Z,{component:x.gx,name:"newPostText",validate:[v.C,j],placeholder:"Post message"})}),(0,f.jsx)("div",{children:(0,f.jsx)("button",{children:"Add post"})})]})})),Z=g,_=e(364),P=(0,_.$j)((function(t){return{profilePage:t.profilePage}}),(function(t){return{addMyPost:function(r){t((0,a.Wl)(r))}}}))(Z),S="ProfileInfo_descriptionBlock__ApKsI",b=e(6159),C=e(885),k=function(t){var r=(0,u.useState)(!1),e=(0,C.Z)(r,2),n=e[0],s=e[1],i=(0,u.useState)(t.status),o=(0,C.Z)(i,2),a=o[0],l=o[1];(0,u.useEffect)((function(){l(t.status)}),[t.status]);return(0,f.jsx)("div",{children:n?(0,f.jsx)("div",{children:(0,f.jsx)("input",{autoFocus:!0,value:a,onBlur:function(){s(!n),t.updateUserStatus(a)},onChange:function(t){l(t.currentTarget.value)}})}):(0,f.jsx)("div",{children:(0,f.jsx)("span",{onDoubleClick:function(){s(!n)},children:t.status})})})},U=function(t){var r=t.profile,e=t.status,n=t.updateUserStatus;return r?(0,f.jsx)("div",{children:(0,f.jsxs)("div",{className:S,children:[(0,f.jsx)("img",{src:r.photos.large,alt:"ava"}),(0,f.jsx)(k,{status:e,updateUserStatus:n})]})}):(0,f.jsx)(b.p,{})},w=function(t){return(0,f.jsxs)("div",{children:[(0,f.jsx)(U,{status:t.status,profile:t.profile,updateUserStatus:t.updateUserStatus}),(0,f.jsx)(P,{})]})},N=e(9271),A=e(7781),I=function(t){(0,i.Z)(e,t);var r=(0,o.Z)(e);function e(){return(0,n.Z)(this,e),r.apply(this,arguments)}return(0,s.Z)(e,[{key:"componentDidMount",value:function(){var t=this.props.match.params.userId;t||(t=this.props.authorizedUserId)||this.props.history.push("/login"),this.props.getUserProfile(t),this.props.getUserStatus(t)}},{key:"render",value:function(){return(0,f.jsx)("div",{children:(0,f.jsx)(w,{status:this.props.status,profile:this.props.profile,updateUserStatus:this.props.updateUserStatus})})}}]),e}(u.Component),M=(0,A.qC)((0,_.$j)((function(t){return{profile:t.profilePage.profile,status:t.profilePage.status,authorizedUserId:t.auth.userId,isAuth:t.auth.isAuth}}),{getUserProfile:a.et,getUserStatus:a.Tq,updateUserStatus:a.OL}),N.EN)(I)},6854:function(t,r,e){e.d(r,{gx:function(){return f},Gr:function(){return h}});var n=e(1413),s=e(5987),i=(e(2791),e(9058)),o=e(6139),u=e(184),a=["touched","error"],l=["input","meta","child"],c=["input","meta","child"],d=function(t){t.input;var r=t.meta,e=r.touched,n=r.error,o=((0,s.Z)(r,a),t.children),l=e&&n;return(0,u.jsxs)("div",{className:i.Z.formControl+" "+(l?i.Z.error:""),children:[(0,u.jsx)("div",{children:o}),l&&(0,u.jsx)("span",{children:n})]})},f=function(t){var r=t.input,e=(t.meta,t.child,(0,s.Z)(t,l));return(0,u.jsx)(d,(0,n.Z)((0,n.Z)({},t),{},{children:(0,u.jsx)("textarea",(0,n.Z)((0,n.Z)({},r),e))}))},p=function(t){var r=t.input,e=(t.meta,t.child,(0,s.Z)(t,c));return(0,u.jsx)(d,(0,n.Z)((0,n.Z)({},t),{},{children:(0,u.jsx)("input",(0,n.Z)((0,n.Z)({},r),e))}))},h=function(t,r,e){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";return(0,u.jsxs)("div",{children:[(0,u.jsx)(o.Z,(0,n.Z)({placeholder:t,name:r,validate:e,component:p},s)),i]})}},5298:function(t,r,e){e.d(r,{C:function(){return n},D:function(){return s}});var n=function(t){if(!t)return"Field is required"},s=function(t){return function(r){if(r.length>t)return"Max length is ".concat(t," symbols")}}},9058:function(t,r){r.Z={formControl:"FormControls_formControl__A6Htx",error:"FormControls_error__ilB5R",formSummaryError:"FormControls_formSummaryError__BPQTm"}},885:function(t,r,e){e.d(r,{Z:function(){return s}});var n=e(181);function s(t,r){return function(t){if(Array.isArray(t))return t}(t)||function(t,r){var e=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=e){var n,s,i=[],o=!0,u=!1;try{for(e=e.call(t);!(o=(n=e.next()).done)&&(i.push(n.value),!r||i.length!==r);o=!0);}catch(a){u=!0,s=a}finally{try{o||null==e.return||e.return()}finally{if(u)throw s}}return i}}(t,r)||(0,n.Z)(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}}}]);
//# sourceMappingURL=587.39cba7e6.chunk.js.map